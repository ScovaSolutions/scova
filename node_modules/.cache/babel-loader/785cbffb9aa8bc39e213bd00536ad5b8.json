{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.version = exports.FacebookApiException = exports.Facebook = exports.FB = undefined;\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _symbol = require('babel-runtime/core-js/symbol');\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _desc, _value, _class;\n\nvar _anyPromise = require('any-promise');\n\nvar _anyPromise2 = _interopRequireDefault(_anyPromise);\n\nvar _coreDecorators = require('core-decorators');\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _querystring = require('querystring');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _crypto = require('crypto');\n\nvar _crypto2 = _interopRequireDefault(_crypto);\n\nvar _FacebookApiException = require('./FacebookApiException');\n\nvar _FacebookApiException2 = _interopRequireDefault(_FacebookApiException);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar _require = require('../package.json'),\n    version = _require.version,\n    debugReq = (0, _debug2.default)('fb:req'),\n    debugSig = (0, _debug2.default)('fb:sig'),\n    METHODS = ['get', 'post', 'delete', 'put'],\n    toString = Object.prototype.toString,\n    has = Object.prototype.hasOwnProperty,\n    log = function log(d) {\n  // todo\n  console.log(d); // eslint-disable-line no-console\n},\n    defaultOptions = (0, _assign2.default)((0, _create2.default)(null), {\n  Promise: _anyPromise2.default,\n  accessToken: null,\n  appId: null,\n  appSecret: null,\n  appSecretProof: null,\n  beta: false,\n  version: 'v2.3',\n  timeout: null,\n  scope: null,\n  redirectUri: null,\n  proxy: null,\n  userAgent: `thuzi_nodejssdk/${version}`\n}),\n    isValidOption = function isValidOption(key) {\n  return has.call(defaultOptions, key);\n},\n    stringifyParams = function stringifyParams(params) {\n  var data = {};\n\n  for (var key in params) {\n    var value = params[key];\n\n    if (value && typeof value !== 'string') {\n      value = (0, _stringify2.default)(value);\n    }\n\n    if (value !== undefined) {\n      data[key] = value;\n    }\n  }\n\n  return _querystring2.default.stringify(data);\n},\n    postParamData = function postParamData(params) {\n  var data = {},\n      isFormData = false;\n\n  for (var key in params) {\n    var value = params[key];\n\n    if (value && typeof value !== 'string') {\n      var _context;\n\n      var val = typeof value === 'object' && (_context = value, has).call(_context, 'value') && (_context = value, has).call(_context, 'options') ? value.value : value;\n\n      if (Buffer.isBuffer(val)) {\n        isFormData = true;\n      } else if (typeof val.read === 'function' && typeof val.pipe === 'function' && val.readable) {\n        isFormData = true;\n      } else {\n        value = (0, _stringify2.default)(value);\n      }\n    }\n\n    if (value !== undefined) {\n      data[key] = value;\n    }\n  }\n\n  return {\n    [isFormData ? 'formData' : 'form']: data\n  };\n},\n    getAppSecretProof = function getAppSecretProof(accessToken, appSecret) {\n  var hmac = _crypto2.default.createHmac('sha256', appSecret);\n\n  hmac.update(accessToken);\n  return hmac.digest('hex');\n},\n    base64UrlDecode = function base64UrlDecode(str) {\n  var base64String = str.replace(/\\-/g, '+').replace(/_/g, '/');\n  var buffer = new Buffer(base64String, 'base64');\n  return buffer.toString('utf8');\n},\n    nodeifyCallback = function nodeifyCallback(originalCallback) {\n  // normalizes the callback parameters so that the\n  // first parameter is always error and second is response\n  return function (res) {\n    if (!res || res.error) {\n      originalCallback(new _FacebookApiException2.default(res));\n    } else {\n      originalCallback(null, res);\n    }\n  };\n};\n\nvar _opts = (0, _symbol2.default)('opts');\n\nvar graph = (0, _symbol2.default)('graph');\nvar oauthRequest = (0, _symbol2.default)('oauthRequest');\nvar Facebook = (_class = function () {\n  function Facebook(opts, _internalInherit) {\n    (0, _classCallCheck3.default)(this, Facebook);\n\n    if (_internalInherit instanceof Facebook) {\n      this[_opts] = (0, _create2.default)(_internalInherit[_opts]);\n    } else {\n      this[_opts] = (0, _create2.default)(defaultOptions);\n    }\n\n    if (typeof opts === 'object') {\n      this.options(opts);\n    }\n  }\n  /**\n   *\n   * @access public\n   * @param path {String} the url path\n   * @param method {String} the http method (default: `\"GET\"`)\n   * @param params {Object} the parameters for the query\n   * @param cb {Function} the callback function to handle the response\n   * @return {Promise|undefined}\n   */\n\n\n  (0, _createClass3.default)(Facebook, [{\n    key: 'api',\n    value: function api() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      } //\n      // FB.api('/platform', function(response) {\n      //  console.log(response.company_overview);\n      // });\n      //\n      // FB.api('/platform/posts', { limit: 3 }, function(response) {\n      // });\n      //\n      // FB.api('/me/feed', 'post', { message: body }, function(response) {\n      //  if(!response || response.error) {\n      //      console.log('Error occured');\n      //  } else {\n      //      console.log('Post ID:' + response.id);\n      //  }\n      // });\n      //\n      // var postId = '1234567890';\n      // FB.api(postId, 'delete', function(response) {\n      //  if(!response || response.error) {\n      //      console.log('Error occurred');\n      //  } else {\n      //      console.log('Post was deleted');\n      //  }\n      // });\n      //\n      //\n\n\n      var ret = void 0;\n\n      if (args.length > 0 && typeof args[args.length - 1] !== 'function') {\n        var _Promise = this.options('Promise');\n\n        ret = new _Promise(function (resolve, reject) {\n          args.push(function (res) {\n            if (!res || res.error) {\n              reject(new _FacebookApiException2.default(res));\n            } else {\n              resolve(res);\n            }\n          });\n        });\n      }\n\n      this[graph].apply(this, args);\n      return ret;\n    }\n    /**\n     *\n     * @access public\n     * @param path {String} the url path\n     * @param method {String} the http method (default: `\"GET\"`)\n     * @param params {Object} the parameters for the query\n     * @param cb {Function} the callback function to handle the error and response\n     */\n    // this method does not exist in fb js sdk\n\n  }, {\n    key: 'napi',\n    value: function napi() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      } //\n      // normalizes to node style callback so can use the sdk with async control flow node libraries\n      //  first parameters:          error (always type of FacebookApiException)\n      //  second callback parameter: response\n      //\n      // FB.napi('/platform', function(err, response) {\n      //  console.log(response.company_overview);\n      // });\n      //\n      // FB.napi('/platform/posts', { limit: 3 }, function(err, response) {\n      // });\n      //\n      // FB.napi('/me/feed', 'post', { message: body }, function(error, response) {\n      //  if(error) {\n      //      console.log('Error occured');\n      //  } else {\n      //      console.log('Post ID:' + response.id);\n      //  }\n      // });\n      //\n      // var postId = '1234567890';\n      // FB.napi(postId, 'delete', function(error, response) {\n      //  if(error) {\n      //      console.log('Error occurred');\n      //  } else {\n      //      console.log('Post was deleted');\n      //  }\n      // });\n      //\n      //\n\n\n      if (args.length > 0) {\n        var originalCallback = args.pop();\n        args.push(typeof originalCallback === 'function' ? nodeifyCallback(originalCallback) : originalCallback);\n      }\n\n      this.api.apply(this, args);\n    }\n    /**\n     *\n     * Make a api call to Graph server.\n     *\n     * Except the path, all arguments to this function are optiona. So any of\n     * these are valid:\n     *\n     *  FB.api('/me') // throw away the response\n     *  FB.api('/me', function(r) { console.log(r) })\n     *  FB.api('/me', { fields: 'email' }); // throw away response\n     *  FB.api('/me', { fields: 'email' }, function(r) { console.log(r) });\n     *  FB.api('/123456789', 'delete', function(r) { console.log(r) } );\n     *  FB.api(\n     *      '/me/feed',\n     *      'post',\n     *      { body: 'hi there' },\n     *      function(r) { console.log(r) }\n     *  );\n     *\n     */\n\n  }, {\n    key: graph,\n    value: function value(path, next) {\n      var method, params, cb;\n\n      if (typeof path !== 'string') {\n        throw new Error(`Path is of type ${typeof path}, not string`);\n      }\n\n      for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n\n      while (next) {\n        var type = typeof next;\n\n        if (type === 'string' && !method) {\n          method = next.toLowerCase();\n        } else if (type === 'function' && !cb) {\n          cb = next;\n        } else if (type === 'object' && !params) {\n          params = next;\n        } else {\n          log('Invalid argument passed to FB.api(): ' + next);\n          return;\n        }\n\n        next = args.shift();\n      }\n\n      method = method || 'get';\n      params = params || {}; // remove prefix slash if one is given, as it's already in the base url\n\n      if (path[0] === '/') {\n        path = path.substr(1);\n      }\n\n      if (METHODS.indexOf(method) < 0) {\n        log('Invalid method passed to FB.api(): ' + method);\n        return;\n      }\n\n      this[oauthRequest](path, method, params, cb);\n    }\n    /**\n     * Add the oauth parameter, and fire of a request.\n     *\n     * @access private\n     * @param path {String}     the request path\n     * @param method {String}   the http method\n     * @param params {Object}   the parameters for the query\n     * @param cb {Function}     the callback function to handle the response\n     */\n\n  }, {\n    key: oauthRequest,\n    value: function value(path, method, params, cb) {\n      var uri, parsedUri, parsedQuery, formOptions, requestOptions, pool;\n\n      cb = cb || function () {};\n\n      if (!params.access_token) {\n        if (this.options('accessToken')) {\n          params.access_token = this.options('accessToken');\n\n          if (this.options('appSecret')) {\n            params.appsecret_proof = this.options('appSecretProof');\n          }\n        }\n      } else if (!params.appsecret_proof && this.options('appSecret')) {\n        params.appsecret_proof = getAppSecretProof(params.access_token, this.options('appSecret'));\n      }\n\n      if (!/^v\\d+\\.\\d+\\//.test(path)) {\n        path = this.options('version') + '/' + path;\n      }\n\n      uri = `https://graph.${this.options('beta') ? 'beta.' : ''}facebook.com/${path}`;\n      parsedUri = _url2.default.parse(uri);\n      delete parsedUri.search;\n      parsedQuery = _querystring2.default.parse(parsedUri.query);\n\n      if (method === 'post') {\n        if (params.access_token) {\n          parsedQuery.access_token = params.access_token;\n          delete params.access_token;\n\n          if (params.appsecret_proof) {\n            parsedQuery.appsecret_proof = params.appsecret_proof;\n            delete params.appsecret_proof;\n          }\n        }\n\n        formOptions = postParamData(params);\n      } else {\n        for (var key in params) {\n          parsedQuery[key] = params[key];\n        }\n      }\n\n      parsedUri.search = stringifyParams(parsedQuery);\n      uri = _url2.default.format(parsedUri);\n      pool = {\n        maxSockets: this.options('maxSockets') || Number(process.env.MAX_SOCKETS) || 5\n      };\n      requestOptions = (0, _extends3.default)({\n        method,\n        uri\n      }, formOptions, {\n        pool\n      });\n\n      if (this.options('proxy')) {\n        requestOptions['proxy'] = this.options('proxy');\n      }\n\n      if (this.options('timeout')) {\n        requestOptions['timeout'] = this.options('timeout');\n      }\n\n      if (this.options('userAgent')) {\n        requestOptions['headers'] = {\n          'User-Agent': this.options('userAgent')\n        };\n      }\n\n      debugReq(method.toUpperCase() + ' ' + uri);\n      (0, _request2.default)(requestOptions, function (error, response, body) {\n        if (error !== null) {\n          if (error === Object(error) && has.call(error, 'error')) {\n            return cb(error);\n          }\n\n          return cb({\n            error\n          });\n        }\n\n        var json = void 0;\n\n        try {\n          json = JSON.parse(body);\n        } catch (ex) {\n          // sometimes FB is has API errors that return HTML and a message\n          // of \"Sorry, something went wrong\". These are infrequent and unpredictable but\n          // let's not let them blow up our application.\n          json = {\n            error: {\n              code: 'JSONPARSE',\n              Error: ex\n            }\n          };\n        }\n\n        cb(json);\n      });\n    }\n    /**\n     *\n     * @access public\n     * @param signedRequest {String} the signed request value\n     * @param appSecret {String} the application secret\n     * @return {Object} the parsed signed request or undefined if failed\n     *\n     * throws error if appSecret is not defined\n     *\n     * FB.parseSignedRequest('signedRequest', 'appSecret')\n     * FB.parseSignedRequest('signedRequest') // will use appSecret from options('appSecret')\n     *\n     */\n\n  }, {\n    key: 'parseSignedRequest',\n    value: function parseSignedRequest(signedRequest) {\n      var _context2;\n\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      } // this method does not exist in fb js sdk\n\n\n      var appSecret = args.shift() || this.options('appSecret'),\n          split,\n          encodedSignature,\n          encodedEnvelope,\n          envelope,\n          hmac,\n          base64Digest,\n          base64UrlDigest;\n\n      if (!signedRequest) {\n        debugSig('invalid signedRequest');\n        return;\n      }\n\n      if (!appSecret) {\n        throw new Error('appSecret required');\n      }\n\n      split = signedRequest.split('.');\n\n      if (split.length !== 2) {\n        debugSig('invalid signedRequest');\n        return;\n      }\n\n      var _split = split;\n\n      var _split2 = (0, _slicedToArray3.default)(_split, 2);\n\n      encodedSignature = _split2[0];\n      encodedEnvelope = _split2[1];\n\n      if (!encodedSignature || !encodedEnvelope) {\n        debugSig('invalid signedRequest');\n        return;\n      }\n\n      try {\n        envelope = JSON.parse(base64UrlDecode(encodedEnvelope));\n      } catch (ex) {\n        debugSig('encodedEnvelope is not a valid base64 encoded JSON');\n        return;\n      }\n\n      if (!(envelope && (_context2 = envelope, has).call(_context2, 'algorithm') && envelope.algorithm.toUpperCase() === 'HMAC-SHA256')) {\n        debugSig(envelope.algorithm + ' is not a supported algorithm, must be one of [HMAC-SHA256]');\n        return;\n      }\n\n      hmac = _crypto2.default.createHmac('sha256', appSecret);\n      hmac.update(encodedEnvelope);\n      base64Digest = hmac.digest('base64'); // remove Base64 padding\n\n      base64UrlDigest = base64Digest.replace(/={1,3}$/, ''); // Replace illegal characters\n\n      base64UrlDigest = base64UrlDigest.replace(/\\+/g, '-').replace(/\\//g, '_');\n\n      if (base64UrlDigest !== encodedSignature) {\n        debugSig('invalid signature');\n        return;\n      }\n\n      return envelope;\n    }\n    /**\n     *\n     * @access public\n     * @param opt {Object} the parameters for appId and scope\n     */\n\n  }, {\n    key: 'getLoginUrl',\n    value: function getLoginUrl() {\n      var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // this method does not exist in fb js sdk\n\n      var clientId = opt.appId || opt.client_id || this.options('appId'),\n          redirectUri = opt.redirectUri || opt.redirect_uri || this.options('redirectUri') || 'https://www.facebook.com/connect/login_success.html',\n          scope = opt.scope || this.options('scope'),\n          display = opt.display,\n          state = opt.state,\n          scopeQuery = '',\n          displayQuery = '',\n          stateQuery = '';\n\n      if (!clientId) {\n        throw new Error('client_id required');\n      }\n\n      if (scope) {\n        scopeQuery = '&scope=' + encodeURIComponent(scope);\n      }\n\n      if (display) {\n        displayQuery = '&display=' + display;\n      }\n\n      if (state) {\n        stateQuery = '&state=' + state;\n      }\n\n      return `https://www.facebook.com/${this.options('version')}/dialog/oauth` + '?response_type=' + (opt.responseType || opt.response_type || 'code') + scopeQuery + displayQuery + stateQuery + '&redirect_uri=' + encodeURIComponent(redirectUri) + '&client_id=' + clientId;\n    }\n  }, {\n    key: 'options',\n    value: function options(keyOrOptions) {\n      // this method does not exist in the fb js sdk\n      var o = this[_opts];\n\n      if (!keyOrOptions) {\n        return o;\n      }\n\n      if (toString.call(keyOrOptions) === '[object String]') {\n        return isValidOption(keyOrOptions) && keyOrOptions in o ? o[keyOrOptions] : null;\n      }\n\n      for (var key in o) {\n        if (isValidOption(key) && key in o && has.call(keyOrOptions, key)) {\n          o[key] = keyOrOptions[key];\n\n          switch (key) {\n            case 'appSecret':\n            case 'accessToken':\n              o.appSecretProof = o.appSecret && o.accessToken ? getAppSecretProof(o.accessToken, o.appSecret) : null;\n              break;\n          }\n        }\n      }\n    }\n    /**\n     * Return a new instance of Facebook with a different set of options\n     * that inherit unset options from the current instance.\n     * @access public\n     * @param {Object} [opts] Options to set\n     */\n\n  }, {\n    key: 'extend',\n    value: function extend(opts) {\n      return new Facebook(opts, this);\n    }\n  }, {\n    key: 'getAccessToken',\n    value: function getAccessToken() {\n      return this.options('accessToken');\n    }\n  }, {\n    key: 'setAccessToken',\n    value: function setAccessToken(accessToken) {\n      // this method does not exist in fb js sdk\n      this.options({\n        accessToken\n      });\n    }\n  }, {\n    key: 'withAccessToken',\n    value: function withAccessToken(accessToken) {\n      return this.extend({\n        accessToken\n      });\n    }\n  }]);\n  return Facebook;\n}(), (_applyDecoratedDescriptor(_class.prototype, 'api', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'api'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'napi', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'napi'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'parseSignedRequest', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'parseSignedRequest'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'getLoginUrl', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'getLoginUrl'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'options', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'options'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'extend', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'extend'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'getAccessToken', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'getAccessToken'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'setAccessToken', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'setAccessToken'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'withAccessToken', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'withAccessToken'), _class.prototype)), _class);\nvar FB = exports.FB = new Facebook();\nexports.default = FB;\nexports.Facebook = Facebook;\nexports.FacebookApiException = _FacebookApiException2.default;\nexports.version = version;","map":{"version":3,"sources":["/Users/anhad/Development/scova-org/node_modules/fb/lib/fb.js"],"names":["Object","defineProperty","exports","value","version","FacebookApiException","Facebook","FB","undefined","_getOwnPropertyDescriptor","require","_getOwnPropertyDescriptor2","_interopRequireDefault","_slicedToArray2","_slicedToArray3","_extends2","_extends3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_symbol","_symbol2","_stringify","_stringify2","_create","_create2","_assign","_assign2","_desc","_value","_class","_anyPromise","_anyPromise2","_coreDecorators","_debug","_debug2","_request","_request2","_url","_url2","_querystring","_querystring2","_crypto","_crypto2","_FacebookApiException","_FacebookApiException2","obj","__esModule","default","_applyDecoratedDescriptor","target","property","decorators","descriptor","context","desc","forEach","key","enumerable","configurable","initializer","writable","slice","reverse","reduce","decorator","call","_require","debugReq","debugSig","METHODS","toString","prototype","has","hasOwnProperty","log","d","console","defaultOptions","Promise","accessToken","appId","appSecret","appSecretProof","beta","timeout","scope","redirectUri","proxy","userAgent","isValidOption","stringifyParams","params","data","stringify","postParamData","isFormData","_context","val","Buffer","isBuffer","read","pipe","readable","getAppSecretProof","hmac","createHmac","update","digest","base64UrlDecode","str","base64String","replace","buffer","nodeifyCallback","originalCallback","res","error","_opts","graph","oauthRequest","opts","_internalInherit","options","api","_len","arguments","length","args","Array","_key","ret","_Promise","resolve","reject","push","apply","napi","_len2","_key2","pop","path","next","method","cb","Error","_len3","_key3","type","toLowerCase","shift","substr","indexOf","uri","parsedUri","parsedQuery","formOptions","requestOptions","pool","access_token","appsecret_proof","test","parse","search","query","format","maxSockets","Number","process","env","MAX_SOCKETS","toUpperCase","response","body","json","JSON","ex","code","parseSignedRequest","signedRequest","_context2","_len4","_key4","split","encodedSignature","encodedEnvelope","envelope","base64Digest","base64UrlDigest","_split","_split2","algorithm","getLoginUrl","opt","clientId","client_id","redirect_uri","display","state","scopeQuery","displayQuery","stateQuery","encodeURIComponent","responseType","response_type","keyOrOptions","o","extend","getAccessToken","setAccessToken","withAccessToken","autobind"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.version = exports.FacebookApiException = exports.Facebook = exports.FB = undefined;\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _symbol = require('babel-runtime/core-js/symbol');\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _desc, _value, _class;\n\nvar _anyPromise = require('any-promise');\n\nvar _anyPromise2 = _interopRequireDefault(_anyPromise);\n\nvar _coreDecorators = require('core-decorators');\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _querystring = require('querystring');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _crypto = require('crypto');\n\nvar _crypto2 = _interopRequireDefault(_crypto);\n\nvar _FacebookApiException = require('./FacebookApiException');\n\nvar _FacebookApiException2 = _interopRequireDefault(_FacebookApiException);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n\tvar desc = {};\n\tObject['ke' + 'ys'](descriptor).forEach(function (key) {\n\t\tdesc[key] = descriptor[key];\n\t});\n\tdesc.enumerable = !!desc.enumerable;\n\tdesc.configurable = !!desc.configurable;\n\n\tif ('value' in desc || desc.initializer) {\n\t\tdesc.writable = true;\n\t}\n\n\tdesc = decorators.slice().reverse().reduce(function (desc, decorator) {\n\t\treturn decorator(target, property, desc) || desc;\n\t}, desc);\n\n\tif (context && desc.initializer !== void 0) {\n\t\tdesc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n\t\tdesc.initializer = undefined;\n\t}\n\n\tif (desc.initializer === void 0) {\n\t\tObject['define' + 'Property'](target, property, desc);\n\t\tdesc = null;\n\t}\n\n\treturn desc;\n}\n\nvar _require = require('../package.json'),\n    version = _require.version,\n    debugReq = (0, _debug2.default)('fb:req'),\n    debugSig = (0, _debug2.default)('fb:sig'),\n    METHODS = ['get', 'post', 'delete', 'put'],\n    toString = Object.prototype.toString,\n    has = Object.prototype.hasOwnProperty,\n    log = function log(d) {\n\t// todo\n\tconsole.log(d); // eslint-disable-line no-console\n},\n    defaultOptions = (0, _assign2.default)((0, _create2.default)(null), {\n\tPromise: _anyPromise2.default,\n\taccessToken: null,\n\tappId: null,\n\tappSecret: null,\n\tappSecretProof: null,\n\tbeta: false,\n\tversion: 'v2.3',\n\ttimeout: null,\n\tscope: null,\n\tredirectUri: null,\n\tproxy: null,\n\tuserAgent: `thuzi_nodejssdk/${version}`\n}),\n    isValidOption = function isValidOption(key) {\n\treturn has.call(defaultOptions, key);\n},\n    stringifyParams = function stringifyParams(params) {\n\tvar data = {};\n\n\tfor (var key in params) {\n\t\tvar value = params[key];\n\t\tif (value && typeof value !== 'string') {\n\t\t\tvalue = (0, _stringify2.default)(value);\n\t\t}\n\t\tif (value !== undefined) {\n\t\t\tdata[key] = value;\n\t\t}\n\t}\n\n\treturn _querystring2.default.stringify(data);\n},\n    postParamData = function postParamData(params) {\n\tvar data = {},\n\t    isFormData = false;\n\n\tfor (var key in params) {\n\t\tvar value = params[key];\n\t\tif (value && typeof value !== 'string') {\n\t\t\tvar _context;\n\n\t\t\tvar val = typeof value === 'object' && (_context = value, has).call(_context, 'value') && (_context = value, has).call(_context, 'options') ? value.value : value;\n\t\t\tif (Buffer.isBuffer(val)) {\n\t\t\t\tisFormData = true;\n\t\t\t} else if (typeof val.read === 'function' && typeof val.pipe === 'function' && val.readable) {\n\t\t\t\tisFormData = true;\n\t\t\t} else {\n\t\t\t\tvalue = (0, _stringify2.default)(value);\n\t\t\t}\n\t\t}\n\t\tif (value !== undefined) {\n\t\t\tdata[key] = value;\n\t\t}\n\t}\n\n\treturn { [isFormData ? 'formData' : 'form']: data };\n},\n    getAppSecretProof = function getAppSecretProof(accessToken, appSecret) {\n\tvar hmac = _crypto2.default.createHmac('sha256', appSecret);\n\thmac.update(accessToken);\n\treturn hmac.digest('hex');\n},\n    base64UrlDecode = function base64UrlDecode(str) {\n\tvar base64String = str.replace(/\\-/g, '+').replace(/_/g, '/');\n\tvar buffer = new Buffer(base64String, 'base64');\n\treturn buffer.toString('utf8');\n},\n    nodeifyCallback = function nodeifyCallback(originalCallback) {\n\t// normalizes the callback parameters so that the\n\t// first parameter is always error and second is response\n\treturn function (res) {\n\t\tif (!res || res.error) {\n\t\t\toriginalCallback(new _FacebookApiException2.default(res));\n\t\t} else {\n\t\t\toriginalCallback(null, res);\n\t\t}\n\t};\n};\n\nvar _opts = (0, _symbol2.default)('opts');\nvar graph = (0, _symbol2.default)('graph');\nvar oauthRequest = (0, _symbol2.default)('oauthRequest');\n\nvar Facebook = (_class = function () {\n\tfunction Facebook(opts, _internalInherit) {\n\t\t(0, _classCallCheck3.default)(this, Facebook);\n\n\t\tif (_internalInherit instanceof Facebook) {\n\t\t\tthis[_opts] = (0, _create2.default)(_internalInherit[_opts]);\n\t\t} else {\n\t\t\tthis[_opts] = (0, _create2.default)(defaultOptions);\n\t\t}\n\n\t\tif (typeof opts === 'object') {\n\t\t\tthis.options(opts);\n\t\t}\n\t}\n\n\t/**\n  *\n  * @access public\n  * @param path {String} the url path\n  * @param method {String} the http method (default: `\"GET\"`)\n  * @param params {Object} the parameters for the query\n  * @param cb {Function} the callback function to handle the response\n  * @return {Promise|undefined}\n  */\n\n\n\t(0, _createClass3.default)(Facebook, [{\n\t\tkey: 'api',\n\t\tvalue: function api() {\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\t//\n\t\t\t// FB.api('/platform', function(response) {\n\t\t\t//  console.log(response.company_overview);\n\t\t\t// });\n\t\t\t//\n\t\t\t// FB.api('/platform/posts', { limit: 3 }, function(response) {\n\t\t\t// });\n\t\t\t//\n\t\t\t// FB.api('/me/feed', 'post', { message: body }, function(response) {\n\t\t\t//  if(!response || response.error) {\n\t\t\t//      console.log('Error occured');\n\t\t\t//  } else {\n\t\t\t//      console.log('Post ID:' + response.id);\n\t\t\t//  }\n\t\t\t// });\n\t\t\t//\n\t\t\t// var postId = '1234567890';\n\t\t\t// FB.api(postId, 'delete', function(response) {\n\t\t\t//  if(!response || response.error) {\n\t\t\t//      console.log('Error occurred');\n\t\t\t//  } else {\n\t\t\t//      console.log('Post was deleted');\n\t\t\t//  }\n\t\t\t// });\n\t\t\t//\n\t\t\t//\n\n\t\t\tvar ret = void 0;\n\n\t\t\tif (args.length > 0 && typeof args[args.length - 1] !== 'function') {\n\t\t\t\tvar _Promise = this.options('Promise');\n\t\t\t\tret = new _Promise(function (resolve, reject) {\n\t\t\t\t\targs.push(function (res) {\n\t\t\t\t\t\tif (!res || res.error) {\n\t\t\t\t\t\t\treject(new _FacebookApiException2.default(res));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(res);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis[graph].apply(this, args);\n\n\t\t\treturn ret;\n\t\t}\n\n\t\t/**\n   *\n   * @access public\n   * @param path {String} the url path\n   * @param method {String} the http method (default: `\"GET\"`)\n   * @param params {Object} the parameters for the query\n   * @param cb {Function} the callback function to handle the error and response\n   */\n\t\t// this method does not exist in fb js sdk\n\n\t}, {\n\t\tkey: 'napi',\n\t\tvalue: function napi() {\n\t\t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\targs[_key2] = arguments[_key2];\n\t\t\t}\n\n\t\t\t//\n\t\t\t// normalizes to node style callback so can use the sdk with async control flow node libraries\n\t\t\t//  first parameters:          error (always type of FacebookApiException)\n\t\t\t//  second callback parameter: response\n\t\t\t//\n\t\t\t// FB.napi('/platform', function(err, response) {\n\t\t\t//  console.log(response.company_overview);\n\t\t\t// });\n\t\t\t//\n\t\t\t// FB.napi('/platform/posts', { limit: 3 }, function(err, response) {\n\t\t\t// });\n\t\t\t//\n\t\t\t// FB.napi('/me/feed', 'post', { message: body }, function(error, response) {\n\t\t\t//  if(error) {\n\t\t\t//      console.log('Error occured');\n\t\t\t//  } else {\n\t\t\t//      console.log('Post ID:' + response.id);\n\t\t\t//  }\n\t\t\t// });\n\t\t\t//\n\t\t\t// var postId = '1234567890';\n\t\t\t// FB.napi(postId, 'delete', function(error, response) {\n\t\t\t//  if(error) {\n\t\t\t//      console.log('Error occurred');\n\t\t\t//  } else {\n\t\t\t//      console.log('Post was deleted');\n\t\t\t//  }\n\t\t\t// });\n\t\t\t//\n\t\t\t//\n\n\t\t\tif (args.length > 0) {\n\t\t\t\tvar originalCallback = args.pop();\n\t\t\t\targs.push(typeof originalCallback === 'function' ? nodeifyCallback(originalCallback) : originalCallback);\n\t\t\t}\n\n\t\t\tthis.api.apply(this, args);\n\t\t}\n\n\t\t/**\n   *\n   * Make a api call to Graph server.\n   *\n   * Except the path, all arguments to this function are optiona. So any of\n   * these are valid:\n   *\n   *  FB.api('/me') // throw away the response\n   *  FB.api('/me', function(r) { console.log(r) })\n   *  FB.api('/me', { fields: 'email' }); // throw away response\n   *  FB.api('/me', { fields: 'email' }, function(r) { console.log(r) });\n   *  FB.api('/123456789', 'delete', function(r) { console.log(r) } );\n   *  FB.api(\n   *      '/me/feed',\n   *      'post',\n   *      { body: 'hi there' },\n   *      function(r) { console.log(r) }\n   *  );\n   *\n   */\n\n\t}, {\n\t\tkey: graph,\n\t\tvalue: function value(path, next) {\n\t\t\tvar method, params, cb;\n\n\t\t\tif (typeof path !== 'string') {\n\t\t\t\tthrow new Error(`Path is of type ${typeof path}, not string`);\n\t\t\t}\n\n\t\t\tfor (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n\t\t\t\targs[_key3 - 2] = arguments[_key3];\n\t\t\t}\n\n\t\t\twhile (next) {\n\t\t\t\tvar type = typeof next;\n\t\t\t\tif (type === 'string' && !method) {\n\t\t\t\t\tmethod = next.toLowerCase();\n\t\t\t\t} else if (type === 'function' && !cb) {\n\t\t\t\t\tcb = next;\n\t\t\t\t} else if (type === 'object' && !params) {\n\t\t\t\t\tparams = next;\n\t\t\t\t} else {\n\t\t\t\t\tlog('Invalid argument passed to FB.api(): ' + next);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tnext = args.shift();\n\t\t\t}\n\n\t\t\tmethod = method || 'get';\n\t\t\tparams = params || {};\n\n\t\t\t// remove prefix slash if one is given, as it's already in the base url\n\t\t\tif (path[0] === '/') {\n\t\t\t\tpath = path.substr(1);\n\t\t\t}\n\n\t\t\tif (METHODS.indexOf(method) < 0) {\n\t\t\t\tlog('Invalid method passed to FB.api(): ' + method);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis[oauthRequest](path, method, params, cb);\n\t\t}\n\n\t\t/**\n   * Add the oauth parameter, and fire of a request.\n   *\n   * @access private\n   * @param path {String}     the request path\n   * @param method {String}   the http method\n   * @param params {Object}   the parameters for the query\n   * @param cb {Function}     the callback function to handle the response\n   */\n\n\t}, {\n\t\tkey: oauthRequest,\n\t\tvalue: function value(path, method, params, cb) {\n\t\t\tvar uri, parsedUri, parsedQuery, formOptions, requestOptions, pool;\n\n\t\t\tcb = cb || function () {};\n\t\t\tif (!params.access_token) {\n\t\t\t\tif (this.options('accessToken')) {\n\t\t\t\t\tparams.access_token = this.options('accessToken');\n\t\t\t\t\tif (this.options('appSecret')) {\n\t\t\t\t\t\tparams.appsecret_proof = this.options('appSecretProof');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (!params.appsecret_proof && this.options('appSecret')) {\n\t\t\t\tparams.appsecret_proof = getAppSecretProof(params.access_token, this.options('appSecret'));\n\t\t\t}\n\n\t\t\tif (!/^v\\d+\\.\\d+\\//.test(path)) {\n\t\t\t\tpath = this.options('version') + '/' + path;\n\t\t\t}\n\t\t\turi = `https://graph.${this.options('beta') ? 'beta.' : ''}facebook.com/${path}`;\n\n\t\t\tparsedUri = _url2.default.parse(uri);\n\t\t\tdelete parsedUri.search;\n\t\t\tparsedQuery = _querystring2.default.parse(parsedUri.query);\n\n\t\t\tif (method === 'post') {\n\t\t\t\tif (params.access_token) {\n\t\t\t\t\tparsedQuery.access_token = params.access_token;\n\t\t\t\t\tdelete params.access_token;\n\n\t\t\t\t\tif (params.appsecret_proof) {\n\t\t\t\t\t\tparsedQuery.appsecret_proof = params.appsecret_proof;\n\t\t\t\t\t\tdelete params.appsecret_proof;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tformOptions = postParamData(params);\n\t\t\t} else {\n\t\t\t\tfor (var key in params) {\n\t\t\t\t\tparsedQuery[key] = params[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparsedUri.search = stringifyParams(parsedQuery);\n\t\t\turi = _url2.default.format(parsedUri);\n\n\t\t\tpool = { maxSockets: this.options('maxSockets') || Number(process.env.MAX_SOCKETS) || 5 };\n\t\t\trequestOptions = (0, _extends3.default)({\n\t\t\t\tmethod,\n\t\t\t\turi\n\t\t\t}, formOptions, {\n\t\t\t\tpool\n\t\t\t});\n\t\t\tif (this.options('proxy')) {\n\t\t\t\trequestOptions['proxy'] = this.options('proxy');\n\t\t\t}\n\t\t\tif (this.options('timeout')) {\n\t\t\t\trequestOptions['timeout'] = this.options('timeout');\n\t\t\t}\n\t\t\tif (this.options('userAgent')) {\n\t\t\t\trequestOptions['headers'] = {\n\t\t\t\t\t'User-Agent': this.options('userAgent')\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdebugReq(method.toUpperCase() + ' ' + uri);\n\t\t\t(0, _request2.default)(requestOptions, function (error, response, body) {\n\t\t\t\tif (error !== null) {\n\t\t\t\t\tif (error === Object(error) && has.call(error, 'error')) {\n\t\t\t\t\t\treturn cb(error);\n\t\t\t\t\t}\n\t\t\t\t\treturn cb({ error });\n\t\t\t\t}\n\n\t\t\t\tvar json = void 0;\n\t\t\t\ttry {\n\t\t\t\t\tjson = JSON.parse(body);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\t// sometimes FB is has API errors that return HTML and a message\n\t\t\t\t\t// of \"Sorry, something went wrong\". These are infrequent and unpredictable but\n\t\t\t\t\t// let's not let them blow up our application.\n\t\t\t\t\tjson = {\n\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\tcode: 'JSONPARSE',\n\t\t\t\t\t\t\tError: ex\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcb(json);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   *\n   * @access public\n   * @param signedRequest {String} the signed request value\n   * @param appSecret {String} the application secret\n   * @return {Object} the parsed signed request or undefined if failed\n   *\n   * throws error if appSecret is not defined\n   *\n   * FB.parseSignedRequest('signedRequest', 'appSecret')\n   * FB.parseSignedRequest('signedRequest') // will use appSecret from options('appSecret')\n   *\n   */\n\n\t}, {\n\t\tkey: 'parseSignedRequest',\n\t\tvalue: function parseSignedRequest(signedRequest) {\n\t\t\tvar _context2;\n\n\t\t\tfor (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n\t\t\t\targs[_key4 - 1] = arguments[_key4];\n\t\t\t}\n\n\t\t\t// this method does not exist in fb js sdk\n\t\t\tvar appSecret = args.shift() || this.options('appSecret'),\n\t\t\t    split,\n\t\t\t    encodedSignature,\n\t\t\t    encodedEnvelope,\n\t\t\t    envelope,\n\t\t\t    hmac,\n\t\t\t    base64Digest,\n\t\t\t    base64UrlDigest;\n\n\t\t\tif (!signedRequest) {\n\t\t\t\tdebugSig('invalid signedRequest');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!appSecret) {\n\t\t\t\tthrow new Error('appSecret required');\n\t\t\t}\n\n\t\t\tsplit = signedRequest.split('.');\n\n\t\t\tif (split.length !== 2) {\n\t\t\t\tdebugSig('invalid signedRequest');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar _split = split;\n\n\t\t\tvar _split2 = (0, _slicedToArray3.default)(_split, 2);\n\n\t\t\tencodedSignature = _split2[0];\n\t\t\tencodedEnvelope = _split2[1];\n\n\n\t\t\tif (!encodedSignature || !encodedEnvelope) {\n\t\t\t\tdebugSig('invalid signedRequest');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tenvelope = JSON.parse(base64UrlDecode(encodedEnvelope));\n\t\t\t} catch (ex) {\n\t\t\t\tdebugSig('encodedEnvelope is not a valid base64 encoded JSON');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!(envelope && (_context2 = envelope, has).call(_context2, 'algorithm') && envelope.algorithm.toUpperCase() === 'HMAC-SHA256')) {\n\t\t\t\tdebugSig(envelope.algorithm + ' is not a supported algorithm, must be one of [HMAC-SHA256]');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thmac = _crypto2.default.createHmac('sha256', appSecret);\n\t\t\thmac.update(encodedEnvelope);\n\t\t\tbase64Digest = hmac.digest('base64');\n\n\t\t\t// remove Base64 padding\n\t\t\tbase64UrlDigest = base64Digest.replace(/={1,3}$/, '');\n\n\t\t\t// Replace illegal characters\n\t\t\tbase64UrlDigest = base64UrlDigest.replace(/\\+/g, '-').replace(/\\//g, '_');\n\n\t\t\tif (base64UrlDigest !== encodedSignature) {\n\t\t\t\tdebugSig('invalid signature');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn envelope;\n\t\t}\n\n\t\t/**\n   *\n   * @access public\n   * @param opt {Object} the parameters for appId and scope\n   */\n\n\t}, {\n\t\tkey: 'getLoginUrl',\n\t\tvalue: function getLoginUrl() {\n\t\t\tvar opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\t// this method does not exist in fb js sdk\n\t\t\tvar clientId = opt.appId || opt.client_id || this.options('appId'),\n\t\t\t    redirectUri = opt.redirectUri || opt.redirect_uri || this.options('redirectUri') || 'https://www.facebook.com/connect/login_success.html',\n\t\t\t    scope = opt.scope || this.options('scope'),\n\t\t\t    display = opt.display,\n\t\t\t    state = opt.state,\n\t\t\t    scopeQuery = '',\n\t\t\t    displayQuery = '',\n\t\t\t    stateQuery = '';\n\n\t\t\tif (!clientId) {\n\t\t\t\tthrow new Error('client_id required');\n\t\t\t}\n\n\t\t\tif (scope) {\n\t\t\t\tscopeQuery = '&scope=' + encodeURIComponent(scope);\n\t\t\t}\n\n\t\t\tif (display) {\n\t\t\t\tdisplayQuery = '&display=' + display;\n\t\t\t}\n\n\t\t\tif (state) {\n\t\t\t\tstateQuery = '&state=' + state;\n\t\t\t}\n\n\t\t\treturn `https://www.facebook.com/${this.options('version')}/dialog/oauth` + '?response_type=' + (opt.responseType || opt.response_type || 'code') + scopeQuery + displayQuery + stateQuery + '&redirect_uri=' + encodeURIComponent(redirectUri) + '&client_id=' + clientId;\n\t\t}\n\t}, {\n\t\tkey: 'options',\n\t\tvalue: function options(keyOrOptions) {\n\t\t\t// this method does not exist in the fb js sdk\n\t\t\tvar o = this[_opts];\n\t\t\tif (!keyOrOptions) {\n\t\t\t\treturn o;\n\t\t\t}\n\t\t\tif (toString.call(keyOrOptions) === '[object String]') {\n\t\t\t\treturn isValidOption(keyOrOptions) && keyOrOptions in o ? o[keyOrOptions] : null;\n\t\t\t}\n\t\t\tfor (var key in o) {\n\t\t\t\tif (isValidOption(key) && key in o && has.call(keyOrOptions, key)) {\n\t\t\t\t\to[key] = keyOrOptions[key];\n\t\t\t\t\tswitch (key) {\n\t\t\t\t\t\tcase 'appSecret':\n\t\t\t\t\t\tcase 'accessToken':\n\t\t\t\t\t\t\to.appSecretProof = o.appSecret && o.accessToken ? getAppSecretProof(o.accessToken, o.appSecret) : null;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Return a new instance of Facebook with a different set of options\n   * that inherit unset options from the current instance.\n   * @access public\n   * @param {Object} [opts] Options to set\n   */\n\n\t}, {\n\t\tkey: 'extend',\n\t\tvalue: function extend(opts) {\n\t\t\treturn new Facebook(opts, this);\n\t\t}\n\t}, {\n\t\tkey: 'getAccessToken',\n\t\tvalue: function getAccessToken() {\n\t\t\treturn this.options('accessToken');\n\t\t}\n\t}, {\n\t\tkey: 'setAccessToken',\n\t\tvalue: function setAccessToken(accessToken) {\n\t\t\t// this method does not exist in fb js sdk\n\t\t\tthis.options({ accessToken });\n\t\t}\n\t}, {\n\t\tkey: 'withAccessToken',\n\t\tvalue: function withAccessToken(accessToken) {\n\t\t\treturn this.extend({ accessToken });\n\t\t}\n\t}]);\n\treturn Facebook;\n}(), (_applyDecoratedDescriptor(_class.prototype, 'api', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'api'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'napi', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'napi'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'parseSignedRequest', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'parseSignedRequest'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'getLoginUrl', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'getLoginUrl'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'options', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'options'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'extend', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'extend'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'getAccessToken', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'getAccessToken'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'setAccessToken', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'setAccessToken'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'withAccessToken', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'withAccessToken'), _class.prototype)), _class);\nvar FB = exports.FB = new Facebook();\nexports.default = FB;\nexports.Facebook = Facebook;\nexports.FacebookApiException = _FacebookApiException2.default;\nexports.version = version;"]},"metadata":{},"sourceType":"script"}